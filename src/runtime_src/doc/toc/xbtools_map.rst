.. _xbtools_map.rst:

Legacy to new map
*****************

This document maps the legacy ``xbutil``/``xbmgmt`` commands to the new ``xbutil``/``xbmgmt`` commands. It lists out the new ``xbutil``/``xbmgmt`` calls that replace the existing calls.

Note: The new utilities are complete redesign and architecture, hence there may not be exact 1-to-1 mapping. However, help menus of these new utilities are also very descriptive so please refer to them whenever needed.

Xbutil
~~~~~~

+-----------+-----------+----------------+---------------+
|Subcommand | Subcommand|Option          |Option         |
|Legacy     | New       |Legacy          |New            |
+===========+===========+================+===============+
|           |           |                |               |
|reset	    |reset	|-d <device_id>  | -d <bdf>      |
|           |           |-d <bdf>        |               |
+-----------+-----------+----------------+---------------+
|           |           |                |               |
|validate   |validate   |-d <device_id>  | -d <bdf>      |
|           |           |-d <bdf>        |               |
+-----------+-----------+----------------+---------------+
|           |           |                |               |
|           |           |-q	         | --run quick	 |
|           |           |                |               |
+-----------+-----------+----------------+---------------+
|           |           |                |               |
|           |           |(N/A)	         | --run         |
|           |           |                | <testname>	 |
+-----------+-----------+----------------+---------------+
|           |           |                |               |
|           |           |(N/A)	         |--format	 |
|           |           |                |               |
+-----------+-----------+----------------+---------------+
|           |           |                |               |
|           |           |(N/A)	         |--output	 |
|           |           |                |               |
+-----------+-----------+----------------+---------------+
|           |           |                |               |
|scan	    |examine	|                |               |
|           |           |                |               |
+-----------+-----------+----------------+---------------+
|           |           |                |               |
|query	    |examine	|-d <device_id>  | -d <bdf>      |
|           |           |-d <bdf>        |               |
+-----------+-----------+----------------+---------------+
|           |           |                |               |
|           |           | (N/A)          |--report all	 |
|           |           |                |               |
+-----------+-----------+----------------+---------------+
|           |           |                |               |
|           |           |                |  --report     |
|           |           |                |  <lists>	 |
+-----------+-----------+----------------+---------------+
|           |           |                |               |
|           |           | (N/A)          |--output	 |
|           |           |                |               |
+-----------+-----------+----------------+---------------+
|           |           |                |               |
|dump	    |examine	|(N/A)	         |--format	 |
|           |           |                |               |
+-----------+-----------+----------------+---------------+
|           |           |                |               |
|top	    |top	|-d <device_id>  | -d <bdf>      |
|           |           |-d <bdf>        |               |
+-----------+-----------+----------------+---------------+
|           |           |                |               |
|program    |program	|-d <device_id>  | -d <bdf>      |
|           |           |-d <bdf>        |               |
+-----------+-----------+----------------+---------------+
|           |           |                |               |
|           |           | -p <xclbin>	 |--user         |
|           |           |                |<xclbin>	 |
+-----------+-----------+----------------+---------------+
|           |           |                |               |
|p2p	    |advanced	|-d <device_id>  | -d <bdf>      |
|           |           |-d <bdf>        |               |
+-----------+-----------+----------------+---------------+
|           |           |                |               |
|           |           |--enable,       | --p2p         |
|           |           |--disable,      | <ENABLE,      |
|           |           |--validate	 | DISABLE,      |
|           |           |                | VALIDATE>	 |	
+-----------+-----------+----------------+---------------+


Misc subcommands
================

+------------------+----------------------------------------+
|Subcommand        | Subcommand                             |
|Legacy            | New                                    |
+==================+========================================+
|                  |                                        |
|  clock           |Obsoleted                               |
+------------------+----------------------------------------+
|  dmatest         |validate --run DMA	                    |
|                  |                                        |
+------------------+----------------------------------------+
|m2mtest	   | validate --run "Memory to memory DMA"  |
+------------------+----------------------------------------+
|version	   | examine	                            |
+------------------+----------------------------------------+
|status	           | examine -r debug-ip-status	            |
+------------------+----------------------------------------+
|mem --read	   | advanced --read-mem                    |
+------------------+----------------------------------------+
|mem --write	   | advanced --write-mem	            |
+------------------+----------------------------------------+
|host_mem	   | Under construction                     |
+------------------+----------------------------------------+

Xbmgmt
~~~~~~

+-----------+-----------+----------------+------------------+
|Subcommand | Subcommand|Option          |Option            |
|Legacy     | New       |Legacy          |New               |
+===========+===========+================+==================+
|           |           |                |                  |
|flash	    |program	|-d <device_id>  |-d <bdf>          |
|           |           |-d <bdf>        |                  |
+-----------+-----------+----------------+------------------+
|           |           |                |                  |
|           |           |--update	 |--base	    |    	
|           |           |                |                  |
+-----------+-----------+----------------+------------------+
|           |           |                |                  |
|           |           | --update       |N/A               |
|           |           | --shell <name> |	   	    |
+-----------+-----------+----------------+------------------+
|           |           |                |                  | 
|           |           |--factory_reset |--revert-to-golden|
|           |           |                |                  |
+-----------+-----------+----------------+------------------+
|           |           |                |                  | 
|partition  |	program	|--name <name>	 |--shell <name>    |	
|           |           |                |                  |
+-----------+-----------+----------------+------------------+
|           |           |                |                  | 
|           |           |--path <>	 |--user <>	    |	
|           |           |                |                  |
+-----------+-----------+----------------+------------------+
|           |           |                |                  |    
|(N/A)	    |examine	|N/A             |-d <bdf>          |
|           |           |                |                  |
+-----------+-----------+----------------+------------------+
|           |           |                |                  | 
| 	    |           |N/A             |--report all	    |
|           |           |                |                  |
+-----------+-----------+----------------+------------------+
|           |           |                |                  | 
|           |           |N/A	         |--report <list>   |	
|           |           |                |                  |
+-----------+-----------+----------------+------------------+
|           |           |                |                  | 
|           |           |N/A	         |--format          |
|           |           |                |                  |
+-----------+-----------+----------------+------------------+
|           |           |                |                  |
|           |           |N/A	         |--output	    |
|           |           |                |                  |
+-----------+-----------+----------------+------------------+
|           |           |                |                  |    
|reset	    |reset	|-d <device_id>, |-d <bdf>          |
|           |           |-d <bdf>        |                  |
+-----------+-----------+----------------+------------------+
|           |           |                |                  |    
|           |           |N/A	         |--type <type>	    |
|           |           |                |                  |
+-----------+-----------+----------------+------------------+

Misc subcommands
================

+------------------+----------------+
|Subcommand        | Subcommand     |
|Legacy            | New            |
+==================+================+
|                  |                |
|flash --scan      |examine         |
|                  |                |
+------------------+----------------+
|                  |                |
|partition --scan  |examine         |
|                  |                |
+------------------+----------------+
|                  |                |
|version	   |examine -r host |
|                  |                |
+------------------+----------------+
