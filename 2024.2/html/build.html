<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Building the XRT Software Stack &mdash; XRT 2020.1 documentation</title>
      <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="XRT Installation" href="install.html" />
    <link rel="prev" title="System Requirements" href="system_requirements.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> XRT
          </a>
              <div class="version">
                2020.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="platforms.html">XRT and Vitis™ Platform Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="system_requirements.html">System Requirements</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Building the XRT Software Stack</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#building-the-xrt-installation-package">Building the XRT Installation Package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installing-building-dependencies">Installing Building Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-the-xrt-runtime">Building the XRT Runtime</a></li>
<li class="toctree-l3"><a class="reference internal" href="#packaging-rpm-on-rhel-centos-or-deb-on-ubuntu">Packaging RPM on RHEL/CentOS or DEB on Ubuntu</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#building-the-xrt-documentation">Building the XRT Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">XRT Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="test.html">Developer Build and Test Instructions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use Model and Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="execution-model.html">Execution Model Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="xrt_kernel_executions.html">XRT Controlled Kernel Execution Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiprocess.html">Multi-Process Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="p2p.html">PCIe Peer-to-Peer (P2P)</a></li>
<li class="toctree-l1"><a class="reference internal" href="m2m.html">Memory-to-Memory (M2M)</a></li>
<li class="toctree-l1"><a class="reference internal" href="hm.html">Host Memory Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="xrt_ini.html">Configuration File xrt.ini</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User API Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="opencl_extension.html">Xilinx OpenCL extension</a></li>
<li class="toctree-l1"><a class="reference internal" href="xrt_native_apis.html">XRT Native APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="xrt_native.main.html">XRT Native Library C++ API</a></li>
<li class="toctree-l1"><a class="reference internal" href="xrt_native.main.html#id1">XRT Native Library C API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">XRT Developer's Space</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="platforms_partitions.html">Alveo™ Platform Loading Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="sysfs.html">Linux Sys FileSystem Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats.html">Binary Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="ert.main.html">Embedded Runtime Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="mgmt-ioctl.main.html">XCLMGMT (PCIe Management Physical Function) Driver Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="xocl_ioctl.main.html">XOCL (PCIe User Physical Function) Driver Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="zocl_ioctl.main.html">ZOCL Driver Interfaces</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tools and Utilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="xclbintools.html">xclbinutil</a></li>
<li class="toctree-l1"><a class="reference internal" href="xbutil.html">xbutil</a></li>
<li class="toctree-l1"><a class="reference internal" href="xbmgmt.html">xbmgmt</a></li>
<li class="toctree-l1"><a class="reference internal" href="xbflash2.html">xbflash2</a></li>
<li class="toctree-l1"><a class="reference internal" href="xball.html">xball</a></li>
<li class="toctree-l1"><a class="reference internal" href="xbtop.html">xbtop</a></li>
<li class="toctree-l1"><a class="reference internal" href="xbtools_map.html">Utility Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="nagios_plugin.html">xrt nagios plugin</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Building Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="yocto.html">XRT Setup for Embedded Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="test.html">Developer Build and Test Instructions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Cloud Support</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mailbox.main.html">Mailbox Subdevice Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="mailbox.proto.html">Mailbox Inter-domain Communication Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloud_vendor_support.html">MSD/MPD and Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="fpga_device_ready.html">FPGA device readiness within user VM</a></li>
<li class="toctree-l1"><a class="reference internal" href="vsec.html">Accessing vsec within VM</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Security</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security of Alveo Platform</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python binding</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pyxrt.html">XRT Python Bindings</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Debug and Faqs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="debug-faq.html">XRT/Board Debug FAQ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">XRT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Building the XRT Software Stack</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/build.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <span class="target" id="build-rst"></span><section id="building-the-xrt-software-stack">
<h1>Building the XRT Software Stack<a class="headerlink" href="#building-the-xrt-software-stack" title="Permalink to this headline">¶</a></h1>
<section id="building-the-xrt-installation-package">
<h2>Building the XRT Installation Package<a class="headerlink" href="#building-the-xrt-installation-package" title="Permalink to this headline">¶</a></h2>
<section id="installing-building-dependencies">
<h3>Installing Building Dependencies<a class="headerlink" href="#installing-building-dependencies" title="Permalink to this headline">¶</a></h3>
<p>XRT requires C++14 compiler and a few development libraries bundled
with modern Linux distribution. Please install the necessary tools and
dependencies using the provided <code class="docutils literal notranslate"><span class="pre">xrtdeps.sh</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo &lt;XRT&gt;/src/runtime_src/tools/scripts/xrtdeps.sh
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">xrtdeps.sh</span></code> script installs the standard distribution packages
for the tools and libraries XRT depends on. If any system libraries
XRT depends on (for example Boost libraries) are updated to non
standard versions, then XRT must be rebuilt.</p>
<p>On RHEL7.x/CentOS7.x use devtoolset to switch to C++14 devlopment
environment. This step is not applicable to Ubuntu, which already has
C++14 capable GCC.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>scl enable devtoolset-9 bash
</pre></div>
</div>
<p>XRT includes source code for ERT firmware.
It needs to be compiled with the MicroBlaze GCC compiler, which is available in <a class="reference external" href="https://www.xilinx.com/products/design-tools/vitis.html">Xilinx Vitis™ Software Platform</a>.
To generate a complete XRT package, please install Vitis™ Software Platform and setup XILINX_VITIS environment variable.
If XILINX_VITIS is not available in the build system, the building and packaging steps for ERT will be skipped.
On the deployment system, XRT will try to find the ERT firmware in <code class="docutils literal notranslate"><span class="pre">/lib/firmware/xilinx</span></code> directory.
If it’s not available, errors will be reported.</p>
</section>
<section id="building-the-xrt-runtime">
<h3>Building the XRT Runtime<a class="headerlink" href="#building-the-xrt-runtime" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd build
./build.sh
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">build.sh</span></code> script builds for both Debug and Release profiles.</p>
<p>On RHEL/CentOS, if <code class="docutils literal notranslate"><span class="pre">build.sh</span></code> was accidentally run prior to enabling
the devtoolset, then it is necessary to clean stale files makefiles by
running <code class="docutils literal notranslate"><span class="pre">build.sh</span> <span class="pre">clean</span></code> prior to the next build.</p>
<p>Please check ERT firmware is built properly at <code class="docutils literal notranslate"><span class="pre">build/Release/opt/xilinx/xrt/share/fw/sched*.bin</span></code>.</p>
</section>
<section id="packaging-rpm-on-rhel-centos-or-deb-on-ubuntu">
<h3>Packaging RPM on RHEL/CentOS or DEB on Ubuntu<a class="headerlink" href="#packaging-rpm-on-rhel-centos-or-deb-on-ubuntu" title="Permalink to this headline">¶</a></h3>
<p>The package is automatically built for the <code class="docutils literal notranslate"><span class="pre">Release</span></code>
version but not for the <code class="docutils literal notranslate"><span class="pre">Debug</span></code> version:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd build/Release
make package
cd ../Debug
make package
</pre></div>
</div>
</section>
</section>
<section id="building-the-xrt-documentation">
<h2>Building the XRT Documentation<a class="headerlink" href="#building-the-xrt-documentation" title="Permalink to this headline">¶</a></h2>
<p>XRT Documentation can be built automatically using <code class="docutils literal notranslate"><span class="pre">Sphinx</span></code> doc builder
together with Linux kernel based <code class="docutils literal notranslate"><span class="pre">kernel-doc</span></code> utility.</p>
<p>To compile and install the documentation into the <code class="docutils literal notranslate"><span class="pre">doc</span></code> directory at
the top of the repository:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd build
./build.sh docs
# To browse the generated local documentation with a web browser:
xdg-open Release/runtime_src/doc/html/index.html
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="system_requirements.html" class="btn btn-neutral float-left" title="System Requirements" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="install.html" class="btn btn-neutral float-right" title="XRT Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2020, Xilinx, Inc.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>