

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Platform Overview &mdash; XRT 2019.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="System Requirements" href="system_requirements.html" />
    <link rel="prev" title="Xilinx® Runtime (XRT) Architecture" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> XRT
          

          
          </a>

          
            
            
              <div class="version">
                2019.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Platform Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#user-application-compilation">User Application Compilation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pcie-based-platforms">PCIe Based Platforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mgmt-pf-pf0">MGMT PF (PF0)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-pf-pf1">USER PF (PF1)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#zynq-ultrascale-mpsoc-based-embedded-platforms">Zynq Ultrascale+ MPSoC Based Embedded Platforms</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="system_requirements.html">System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="build.html">Building and Installing Software Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="test.html">Developer Build and Test Instructions</a></li>
</ul>
<p class="caption"><span class="caption-text">Use Model and Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="execution-model.html">Execution Model Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="xrt_kernel_executions.html">Supported Kernel Execution Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiprocess.html">Multi-Process Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="p2p.html">PCIe Peer-to-Peer (P2P) Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="m2m.html">Memory-to-Memory (M2M) Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="streaming_data_support.html">XRT Streaming Platform Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="xrt_ini.html">Configuration File xrt.ini</a></li>
</ul>
<p class="caption"><span class="caption-text">Video Acceleration Using XMA</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="xma_user_guide.html">Xilinx Media Accelerator (XMA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="xma_19.2.html">XMA 19.2 Migration</a></li>
</ul>
<p class="caption"><span class="caption-text">User API Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="xrt.main.html">XRT Core Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="ert.main.html">Embedded Runtime Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="xma.main.html">XMA Core Library</a></li>
</ul>
<p class="caption"><span class="caption-text">XRT Developer's Space</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sysfs.html">Linux Sys FileSystem Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats.html">Binary Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="mgmt-ioctl.main.html">XCLMGMT (PCIe Management Physical Function) Driver Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="xocl_ioctl.main.html">XOCL (PCIe User Physical Function) Driver Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="zocl_ioctl.main.html">ZOCL Driver Interfaces</a></li>
</ul>
<p class="caption"><span class="caption-text">Tools and Utilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="xclbintools.html">xclbinutil</a></li>
<li class="toctree-l1"><a class="reference internal" href="xbutil.html">xbutil</a></li>
<li class="toctree-l1"><a class="reference internal" href="xbmgmt.html">xbmgmt</a></li>
</ul>
<p class="caption"><span class="caption-text">Building Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="yocto.html">Yocto Recipes For Embedded Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="test.html">Developer Build and Test Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="create_platforms.html">Create MPSoC Based Embedded Platforms</a></li>
</ul>
<p class="caption"><span class="caption-text">Cloud Support</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mailbox.main.html">Mailbox Subdevice Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="mailbox.proto.html">Mailbox Inter-domain Communication Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloud_vendor_support.html">MSD/MPD and Plugins</a></li>
</ul>
<p class="caption"><span class="caption-text">Security</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security of Alveo Platform</a></li>
</ul>
<p class="caption"><span class="caption-text">Debug and Faqs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="debug-faq.html">XRT/Board Debug FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">XRT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Platform Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/platforms.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="platform-overview">
<span id="platforms-rst"></span><h1>Platform Overview<a class="headerlink" href="#platform-overview" title="Permalink to this headline">¶</a></h1>
<p>XRT exports a common stack across PCIe based platforms and MPSoC based edge platforms.
From user perspective there is very little porting effort when migrating an
application from one class of platform to another.</p>
<div class="section" id="user-application-compilation">
<h2>User Application Compilation<a class="headerlink" href="#user-application-compilation" title="Permalink to this headline">¶</a></h2>
<p>User application is made up of host code written in C/C++/OpenCL or Python. Device code may be written in C/C++/OpenCL or VHDL/Verilog hardware description language.</p>
<div class="align-center figure" id="id1">
<img alt="_images/Alveo-Compilation-Flow.svg" src="_images/Alveo-Compilation-Flow.svg" /><p class="caption"><span class="caption-text">User application compilation and execution</span></p>
</div>
<p>Users use Vitis™ compiler, v++ to compile and link device code for the target platform. Host code written in C/C++/OpenCL may be compiled with gcc/g++. Host code may be written in Python OpenCL (using PyOpenCL) or Python XRT (using builti-in python binding).</p>
</div>
<div class="section" id="pcie-based-platforms">
<h2>PCIe Based Platforms<a class="headerlink" href="#pcie-based-platforms" title="Permalink to this headline">¶</a></h2>
<div align="center" class="align-center"><img alt="_images/XRT-Architecture-PCIe.svg" src="_images/XRT-Architecture-PCIe.svg" /></div>
<p>XRT supports following PCIe based devices:</p>
<ol class="arabic simple">
<li>U200</li>
<li>U250</li>
<li>U280</li>
<li>U50</li>
<li>AWS F1</li>
<li>Advantech VEGA-4000/4002</li>
</ol>
<p>PCIe based platforms are supported on x86_64, PPC64LE and AARCH64 host architectures. The
platform is comprised of <em>Shell</em> and <em>Dynamic Region</em>. The Shell (previously known as DSA)
has two physical functions: PF0 also called <em>mgmt pf</em> and PF1 also called <em>user pf</em>.
Dynamic Region contains <em>Role</em> which is user compiled binary. Roles are swapped by user
using process called <em>Dynamic Function Exchange (DFX)</em>.</p>
<div class="section" id="mgmt-pf-pf0">
<h3>MGMT PF (PF0)<a class="headerlink" href="#mgmt-pf-pf0" title="Permalink to this headline">¶</a></h3>
<p>XRT Linux kernel driver <em>xclmgmt</em> binds to management physical function. Management physical function
provides access to Shell components responsible for privileged operations. xclmgmt driver is organized
into subdevices and handles the following functionality:</p>
<ol class="arabic simple">
<li>ICAP programming</li>
<li>Clock scaling</li>
<li>Loading firmware container called dsabin (renamed to xsabin since 2019.2). Dsabin contains RL Shell (for 2 RP solution)
and embedded Microblaze firmware for ERT and XMC.</li>
<li>Access to in-band sensors: Temperature, Voltage, Current, etc.</li>
<li>AXI Firewall management</li>
<li>Access to flash programmer</li>
<li>Device reset and rescan</li>
<li>Hardware mailbox for communication with xocl driver</li>
<li>Interrupt handling for AXI Firewall and Mailbox</li>
<li>Device DNA discovery and validation</li>
<li>ECC handling</li>
</ol>
</div>
<div class="section" id="user-pf-pf1">
<h3>USER PF (PF1)<a class="headerlink" href="#user-pf-pf1" title="Permalink to this headline">¶</a></h3>
<p>XRT Linux kernel driver <em>xocl</em> binds to user physical function. User physical function provides access
to Shell components responsible for non privileged operations. It also provides access to compute units
in DFX partition. xocl driver is organized into subdevices and handles the following functionality:</p>
<ol class="arabic simple">
<li>Device memory topology discovery and memory management</li>
<li>Device memory management as abstracted buffer objects</li>
<li>XDMA memory mapped PCIe DMA engine programming</li>
<li>QDMA streaming DMA engine programming</li>
<li>Multi-process aware context management</li>
<li>Standardized compute unit execution management (optionally with help of ERT) for client processes</li>
<li>Interrupt handling for DMA, Compute unit completion and Mailbox</li>
<li>Buffer object migration between device and host as DMA operation</li>
<li>Queue creation/deletion read/write operation for streaming DMA operation</li>
<li>AIO support for the streaming queues</li>
<li>Buffer import and export via DMA-BUF</li>
<li>PCIe peer-to-peer buffer mapping and sharing</li>
<li>Access to in-band sensors via MailBox proxy into xclmgmt</li>
<li>Hardware mailbox for communication with xclmgmt driver</li>
</ol>
<p>PCIe platform security and robustness is described in section <a class="reference internal" href="security.html#security-rst"><span class="std std-ref">Security of Alveo Platform</span></a>.</p>
</div>
</div>
<div class="section" id="zynq-ultrascale-mpsoc-based-embedded-platforms">
<h2>Zynq Ultrascale+ MPSoC Based Embedded Platforms<a class="headerlink" href="#zynq-ultrascale-mpsoc-based-embedded-platforms" title="Permalink to this headline">¶</a></h2>
<div align="center" class="align-center"><img alt="_images/XRT-Architecture-Edge.svg" src="_images/XRT-Architecture-Edge.svg" /></div>
<p>XRT supports following embedded platforms:</p>
<ol class="arabic simple">
<li>ZCU19</li>
<li>ZCU102</li>
<li>ZCU104</li>
<li>ZCU106</li>
</ol>
<p>MPSoC based platforms are supported with PetaLinux base stack. XRT Linux kernel
driver <em>zocl</em> does the heavy lifting for the embedded platform. It handles the
following functionality</p>
<ol class="arabic simple">
<li>CMA buffer management and cache management</li>
<li>SMMU programming for SVM platforms</li>
<li>Standardized compute unit execution management on behalf of client processes</li>
<li>xclbin download for platforms with Partial Reconfiguration support</li>
<li>Buffer import and export via DMA-BUF</li>
<li>Interrupt handling for compute unit completion</li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="system_requirements.html" class="btn btn-neutral float-right" title="System Requirements" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Xilinx® Runtime (XRT) Architecture" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2019, Xilinx, Inc

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>