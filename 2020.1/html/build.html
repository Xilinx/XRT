

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Building and Installing Software Stack &mdash; XRT 2020.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Developer Build and Test Instructions" href="test.html" />
    <link rel="prev" title="System Requirements" href="system_requirements.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> XRT
          

          
          </a>

          
            
            
              <div class="version">
                2020.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="platforms.html">Platform Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="system_requirements.html">System Requirements</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Building and Installing Software Stack</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#xrt">XRT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#build-the-runtime">Build the runtime</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-rpm-package-on-rhel-centos-or-deb-package-on-ubuntu">Build RPM package on RHEL/CentOS or DEB package on Ubuntu</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-the-xrt-rpm-package">Install the XRT RPM package</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-the-xrt-deb-package">Install the XRT DEB package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#xrt-documentation">XRT Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="test.html">Developer Build and Test Instructions</a></li>
</ul>
<p class="caption"><span class="caption-text">Use Model and Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="execution-model.html">Execution Model Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="xrt_kernel_executions.html">Supported Kernel Execution Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiprocess.html">Multi-Process Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="p2p.html">PCIe Peer-to-Peer (P2P) Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="m2m.html">Memory-to-Memory (M2M) Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="streaming_data_support.html">XRT Streaming Platform Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="xrt_ini.html">Configuration File xrt.ini</a></li>
</ul>
<p class="caption"><span class="caption-text">Video Acceleration Using XMA</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="xma_user_guide.html">Xilinx Media Accelerator (XMA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="xma_19.2.html">XMA 19.2 Migration</a></li>
</ul>
<p class="caption"><span class="caption-text">User API Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="xrt.main.html">XRT Core Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="ert.main.html">Embedded Runtime Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="xma.main.html">XMA Core Library</a></li>
</ul>
<p class="caption"><span class="caption-text">XRT Developer's Space</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sysfs.html">Linux Sys FileSystem Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats.html">Binary Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="mgmt-ioctl.main.html">XCLMGMT (PCIe Management Physical Function) Driver Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="xocl_ioctl.main.html">XOCL (PCIe User Physical Function) Driver Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="zocl_ioctl.main.html">ZOCL Driver Interfaces</a></li>
</ul>
<p class="caption"><span class="caption-text">Tools and Utilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="xclbintools.html">xclbinutil</a></li>
<li class="toctree-l1"><a class="reference internal" href="xbutil.html">xbutil</a></li>
<li class="toctree-l1"><a class="reference internal" href="xbmgmt.html">xbmgmt</a></li>
</ul>
<p class="caption"><span class="caption-text">Building Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="yocto.html">Yocto Recipes For Embedded Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="test.html">Developer Build and Test Instructions</a></li>
</ul>
<p class="caption"><span class="caption-text">Cloud Support</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mailbox.main.html">Mailbox Subdevice Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="mailbox.proto.html">Mailbox Inter-domain Communication Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloud_vendor_support.html">MSD/MPD and Plugins</a></li>
</ul>
<p class="caption"><span class="caption-text">Security</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security of Alveo Platform</a></li>
</ul>
<p class="caption"><span class="caption-text">Debug and Faqs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="debug-faq.html">XRT/Board Debug FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">XRT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Building and Installing Software Stack</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/build.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="building-and-installing-software-stack">
<span id="build-rst"></span><h1>Building and Installing Software Stack<a class="headerlink" href="#building-and-installing-software-stack" title="Permalink to this headline">¶</a></h1>
<div class="section" id="xrt">
<h2>XRT<a class="headerlink" href="#xrt" title="Permalink to this headline">¶</a></h2>
<p>XRT requires C++14 compiler and a few development libraries bundled
with modern Linux distribution. Please install the necessary tools and
dependencies using the provided
<code class="docutils literal notranslate"><span class="pre">src/runtime_src/tools/scripts/xrtdeps.sh</span></code>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If <code class="docutils literal notranslate"><span class="pre">xrtdeps.sh</span></code> fails when installing devtoolset-6, then please manually install a later devtoolset, for example <code class="docutils literal notranslate"><span class="pre">devtoolset-9</span></code>.</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">xrtdeps.sh</span></code> script installs the standard distribution packages
for the tools and libraries XRT depends on. If any system libraries
XRT depends on (for example Boost libraries) are updated to non
standard versions, then XRT must be rebuilt.</p>
<p>On RHEL7.x/CentOS7.x use devtoolset to switch to C++14 devlopment
environment. This step is not applicable to Ubuntu which already has
C++14 capable GCC.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>scl enable devtoolset-9 bash
</pre></div>
</div>
<div class="section" id="build-the-runtime">
<h3>Build the runtime<a class="headerlink" href="#build-the-runtime" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd build
./build.sh
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">build.sh</span></code> script builds for both Debug and Release profiles.  On
RHEL/CentOS, if <code class="docutils literal notranslate"><span class="pre">build.sh</span></code> was accidentally run prior to enabling
the devtoolset, then it is necessary to clean stale files makefiles by
running <code class="docutils literal notranslate"><span class="pre">build.sh</span> <span class="pre">clean</span></code> prior to the next build.</p>
</div>
<div class="section" id="build-rpm-package-on-rhel-centos-or-deb-package-on-ubuntu">
<h3>Build RPM package on RHEL/CentOS or DEB package on Ubuntu<a class="headerlink" href="#build-rpm-package-on-rhel-centos-or-deb-package-on-ubuntu" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">XRT includes source code for ERT firmware, which must compiled using the MicroBlaze GCC compiler available with Xilinx Vitis.  Before building XRT locally, it is recommended that Xilinx Vitis is installed and that XILINX_VITIS environment variable is set accordingly.</p>
</div>
<p>The package is automatically built for the <code class="docutils literal notranslate"><span class="pre">Release</span></code>
version but not for the <code class="docutils literal notranslate"><span class="pre">Debug</span></code> version:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd build/Release
make package
cd ../Debug
make package
</pre></div>
</div>
</div>
<div class="section" id="install-the-xrt-rpm-package">
<h3>Install the XRT RPM package<a class="headerlink" href="#install-the-xrt-rpm-package" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Before installing a locally built RPM for XRT, please make sure the ERT firmware was built by checking that <code class="docutils literal notranslate"><span class="pre">build/Release/opt/xilinx/xrt/share/fw/sched*.bin</span></code> exists under the build tree.  If <code class="docutils literal notranslate"><span class="pre">sched.bin</span></code> files are missing, please download and install Xilinx Vitis, set XILINX_VITIS, and build XRT again.  If you do not plan to install the RPM package then existing firmware under <code class="docutils literal notranslate"><span class="pre">/lib/firmware/xilinx</span></code> will continue to be used.</p>
</div>
<p>Install by providing a full path to the RPM package, for example, from
inside either the <code class="docutils literal notranslate"><span class="pre">Release</span></code> or <code class="docutils literal notranslate"><span class="pre">Debug</span></code> directory according to
purpose with (the actual package name might differ)</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo yum reinstall ./xrt_202020.2.7.0_7.4.1708-x86_64-xrt.rpm
</pre></div>
</div>
</div>
<div class="section" id="install-the-xrt-deb-package">
<h3>Install the XRT DEB package<a class="headerlink" href="#install-the-xrt-deb-package" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Before installing a locally built DEB for XRT, please make sure the ERT firmware was built by checking that <code class="docutils literal notranslate"><span class="pre">build/Release/opt/xilinx/xrt/share/fw/sched*.bin</span></code> exists under the build tree.  If <code class="docutils literal notranslate"><span class="pre">sched.bin</span></code> files are missing, please download and install Xilinx Vitis, set XILINX_VITIS, and build XRT again.  If you do not plan to install the DEB package then existing firmware under <code class="docutils literal notranslate"><span class="pre">/lib/firmware/xilinx</span></code> will continue to be used.</p>
</div>
<p>Install by providing a full path to the DEB package, for example, from
inside either the <code class="docutils literal notranslate"><span class="pre">Release</span></code> or <code class="docutils literal notranslate"><span class="pre">Debug</span></code> directory according to
purpose with (the actual package name might differ)</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo apt install --reinstall ./xrt_202020.2.7.0_18.04-amd64-xrt.deb
</pre></div>
</div>
</div>
</div>
<div class="section" id="xrt-documentation">
<h2>XRT Documentation<a class="headerlink" href="#xrt-documentation" title="Permalink to this headline">¶</a></h2>
<p>XRT Documentation can be built automatically using <code class="docutils literal notranslate"><span class="pre">Sphinx</span></code> doc builder
together with Linux kernel based <code class="docutils literal notranslate"><span class="pre">kernel-doc</span></code> utility.</p>
<p>To compile and install the documentation into the <code class="docutils literal notranslate"><span class="pre">doc</span></code> directory at
the top of the repository:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd build
./build.sh docs
# To browse the generated local documentation with a web browser:
xdg-open Release/runtime_src/doc/html/index.html
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="test.html" class="btn btn-neutral float-right" title="Developer Build and Test Instructions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="system_requirements.html" class="btn btn-neutral float-left" title="System Requirements" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2020, Xilinx, Inc

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>